[{"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/index.js":"1","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/App.js":"2","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/routes.js":"3","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/pages/Login/index.js":"4","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/pages/Register/index.js":"5","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/config/firebase.js":"6","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/pages/Home/index.js":"7","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/store.js":"8","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/reducers/index.js":"9","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/Footer/index.js":"10","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/Header/index.js":"11","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/constants/messages.js":"12","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/reducers/UserReducer.js":"13","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/pages/RecoverPassword/index.js":"14","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/UserInfo/index.js":"15","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/ContactGroupList/index.js":"16","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/ContactInfo/index.js":"17","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/BannerComponent/index.js":"18","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/ChatComponent/index.js":"19","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/PerfilInfo/index.js":"20","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/AddContact/index.js":"21","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/utils/hash.js":"22","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/ContactList/index.js":"23"},{"size":471,"mtime":1612635809607,"results":"24","hashOfConfig":"25"},{"size":142,"mtime":1612635809583,"results":"26","hashOfConfig":"25"},{"size":937,"mtime":1612635809619,"results":"27","hashOfConfig":"25"},{"size":4507,"mtime":1614031256021,"results":"28","hashOfConfig":"25"},{"size":4450,"mtime":1614031256021,"results":"29","hashOfConfig":"25"},{"size":504,"mtime":1612124949977,"results":"30","hashOfConfig":"25"},{"size":995,"mtime":1614118837666,"results":"31","hashOfConfig":"25"},{"size":517,"mtime":1612635809619,"results":"32","hashOfConfig":"25"},{"size":141,"mtime":1612635809619,"results":"33","hashOfConfig":"25"},{"size":471,"mtime":1612635809595,"results":"34","hashOfConfig":"25"},{"size":364,"mtime":1612635809595,"results":"35","hashOfConfig":"25"},{"size":521,"mtime":1612635809607,"results":"36","hashOfConfig":"25"},{"size":1065,"mtime":1614031256025,"results":"37","hashOfConfig":"25"},{"size":2849,"mtime":1612637302094,"results":"38","hashOfConfig":"25"},{"size":3314,"mtime":1614031256001,"results":"39","hashOfConfig":"25"},{"size":1680,"mtime":1614118015782,"results":"40","hashOfConfig":"25"},{"size":842,"mtime":1614035683820,"results":"41","hashOfConfig":"25"},{"size":419,"mtime":1614031255989,"results":"42","hashOfConfig":"25"},{"size":5827,"mtime":1614118707642,"results":"43","hashOfConfig":"25"},{"size":7068,"mtime":1614031256001,"results":"44","hashOfConfig":"25"},{"size":3868,"mtime":1614117432368,"results":"45","hashOfConfig":"25"},{"size":442,"mtime":1613315315561,"results":"46","hashOfConfig":"25"},{"size":3608,"mtime":1614034980494,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"18m2soi",{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"50"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/index.js",[],["96","97"],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/App.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/routes.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/pages/Login/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/pages/Register/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/config/firebase.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/pages/Home/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/store.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/reducers/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/Footer/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/Header/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/constants/messages.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/reducers/UserReducer.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/pages/RecoverPassword/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/UserInfo/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/ContactGroupList/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/ContactInfo/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/BannerComponent/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/ChatComponent/index.js",["98"],"import React, { useEffect, useState, useRef } from 'react';\nimport './styles.css';\nimport { MdAccountCircle, MdAttachFile, MdSend, MdMic }  from 'react-icons/md';\nimport firebase from \"../../config/firebase\";\nimport BlockUi from \"react-block-ui\";\nimport \"react-block-ui/style.css\";\nimport { useSelector } from 'react-redux';\nimport HashGenerator from '../../utils/hash';\n\nexport default function ChatComponent(props) {\n\n    const database = firebase.database();\n    const user = useSelector(state => state.user);\n    const [blocking, setBlocking] = useState(false);\n    const [contact, setContact] = useState(undefined);\n    const [isNewChat, setIsNewChat] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const [userHash, setUserHash] = useState(\"\");\n    const [contactHash, setContactHash] = useState(\"\");\n    const [messages, setMessages] = useState([]);\n    const messagesRef = useRef();\n    \n    useEffect(() => {\n        setIsNewChat(props.isNewChat);\n        if (isNewChat) {\n            setContact(props.contact);    \n            HashGenerator.generateHash(user.userEmail).then((userEmailHash) => {\n                setUserHash(userEmailHash);\n                HashGenerator.generateHash(props.contact.email).then((contactEmailHash) => {\n                    setContactHash(contactEmailHash);\n                    loadData();\n                });\n            });\n        } else {\n            loadData();\n        }\n        \n    }, [props, user, contact, isNewChat]);\n\n    function adjustText() {\n        if (messagesRef.current) {\n            messagesRef.current.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"start\",\n            });\n        }\n    }\n\n    function loadData() {\n        setBlocking(true);\n        database.ref(`users/${userHash}/chats/${contactHash}`).on('value', snapshot => {\n            let messageList = snapshot.toJSON();\n            if (messageList) {\n                messageList = Object.values(messageList)\n                messageList.sort((m1, m2) => {\n                    if (m1.datetime > m2.datetime) {\n                        return 1;\n                    }\n                    return -1;\n                })\n                setMessages(messageList);\n                adjustText();\n            }\n            setBlocking(false);\n        });\n    }\n\n    function sendMessage() {\n        const date = new Date();\n        setBlocking(true);\n        HashGenerator.generateHash(date.getTime().toString()).then(dateHash => {\n            database.ref(`users/${userHash}/chats/${contactHash}/${dateHash}`).set({\n                sender: true,\n                message: message,\n                datetime: date.getTime(),\n                viewed: false,\n                contact: contact.username,\n                email: contact.email,\n            }).finally(() => {\n                database.ref(`users/${contactHash}/chats/${userHash}/${dateHash}`).set({\n                    sender: false,\n                    message: message,\n                    datetime: date.getTime(),\n                    viewed: false,\n                    contact: user.username,\n                    email: user.email, \n                }).finally(() => {\n                    setBlocking(false);\n                    document.getElementById(\"input\").value = \"\";\n                    loadData();\n                });\n            });\n        });\n    }\n\n    return (\n        <BlockUi tag=\"div\" blocking={blocking}>\n            <div className=\"chat\">\n                <div className=\"chat-header\">\n                    {props.contact.image ?\n                        <img src={props.contact.image} alt=\"imagem do usuário\" /> :\n                        <MdAccountCircle color=\"white\" className=\"user-icon\" />\n                    }\n                    <span>{props.contact.nickname ? props.contact.nickname \n                    : props.contact.username}</span>\n                </div>\n                <div className=\"chat-content\">\n                    <ul>\n                        {messages.map(m => (\n                            <li key={m.datetime} ref={messagesRef}\n                                className={m.sender ? 'chat-content-sender' : 'chat-content-receiver'}>\n                                <span className={m.sender ? 'chat-content-sender-text' :\n                                     'chat-content-receiver-text'}>{m.message}</span>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n                <div className=\"chat-input\">\n                    <div className=\"chat-input-attach\">\n                        <label htmlFor=\"file-input\">\n                            <MdAttachFile color=\"white\" className=\"chat-input-icons\"/>\n                        </label>\n                        <input id=\"file-input\" type=\"file\"/>\n                    </div>\n                    <div className=\"chat-input-wrapper\">\n                        <input className=\"chat-input-input\" id=\"input\" placeholder=\"Digite uma mensagem\" \n                            onChange={e => setMessage(e.target.value)} \n                            onKeyPress={e => e.key === 'Enter' ? sendMessage() : null}/>\n                    </div>\n                    <div className=\"chat-input-interactions\">\n                        <button type=\"button\" className=\"chat-input-buttons\">\n                            <MdMic color=\"white\" className=\"chat-input-icons\"/>\n                        </button>\n                        <button type=\"button\" className=\"chat-input-buttons\" \n                            onClick={() => sendMessage()}\n                            >\n                            <MdSend color=\"white\" className=\"chat-input-icons\"/>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </BlockUi>\n    );\n}","/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/PerfilInfo/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/AddContact/index.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/utils/hash.js",[],"/home/weth/Área de Trabalho/Linux/IFMG/8º Semestre/Desenvolvimento Web Avançado/ellochat/ellochat-frontend/src/components/ContactList/index.js",[],{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","severity":1,"message":"104","line":38,"column":8,"nodeType":"105","endLine":38,"endColumn":41,"suggestions":"106"},"no-native-reassign",["107"],"no-negated-in-lhs",["108"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadData'. Either include it or remove the dependency array.","ArrayExpression",["109"],"no-global-assign","no-unsafe-negation",{"desc":"110","fix":"111"},"Update the dependencies array to be: [props, user, contact, isNewChat, loadData]",{"range":"112","text":"113"},[1455,1488],"[props, user, contact, isNewChat, loadData]"]